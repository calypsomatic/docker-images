FROM jboss/base:latest

# User root user to install software
USER root
 
COPY java-9.0.4-openjdk.zip /

RUN find / -name "java-9.0.4-openjdk.zip"

RUN ls -al /

RUN unzip /java-9.0.4-openjdk.zip -d /usr/lib/jvm/

RUN ls -al /usr/lib/jvm
RUN ls -al /usr/lib/jvm/Java-9.0.4-openjdk
RUN rm /java-9.0.4-openjdk.zip
RUN chmod +x /usr/lib/jvm/Java-9.0.4-openjdk

# Switch back to jboss user
USER jboss

# Set the JAVA_HOME variable to make it clear where Java is locate
ENV JAVA_HOME /usr/lib/jvm/Java-9.0.4-openjdk

CMD ["java", "-version"]
RUN java -version
